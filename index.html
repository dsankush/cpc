<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Coromandel CPC — Campaign Dashboard</title>
  <link rel="apple-touch-icon" sizes="180x180" href="apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="favicon-16x16.png">
  <link rel="manifest" href="site.webmanifest">
  <link rel="shortcut icon" href="favicon.ico" />
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="style.css">
  <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.1/dist/chart.umd.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/papaparse@5.4.1/papaparse.min.js"></script>
</head>
<body>
  <!-- Header -->
  <header>
    <div class="logo">🌱 CPC Campaign Dashboard</div>
    <div class="pill">
      <div id="kpi-total">Scans: 0</div>
      <div id="kpi-yes">Approved: 0</div>
      <div id="kpi-pending">Pending: 0</div>
    </div>
    <button class="logoutBtn" id="logoutBtn">Logout</button>
  </header>

  <!-- Main -->
  <main class="main">
    <!-- Sidebar Filters -->
    <aside class="panel filters">
      <div class="group"><label>State</label><select id="state"></select></div>
      <div class="group"><label>District</label><select id="district"></select></div>
      <div class="group"><label>Retailer</label><select id="retailer"></select></div>
      <div class="group"><label>Product</label><select id="product"></select></div>
      <div class="group"><label>Quantity ≥</label><input id="qtyMin" type="number" /></div>
      <div class="group"><label>Status</label><select id="status"></select></div>
      <div class="group"><label>From Date</label><input id="dateFrom" type="date" /></div>
      <div class="group"><label>To Date</label><input id="dateTo" type="date" /></div>
      <button class="btn" id="resetBtn">Reset Filters</button>
      <a class="btn" href="data.csv" download>⬇️ Download Data</a>
    </aside>

    <!-- Content -->
    <section class="content">
      <div class="card span-3"><h3>Total Scans</h3><div class="kpi" id="kpiTotalBig">0</div><div id="kpiMeta"></div></div>
      <div class="card span-3"><h3>Submission Status</h3><canvas id="statusChart"></canvas></div>
      <div class="card span-6"><h3>Time Trend</h3><canvas id="trendChart"></canvas></div>
      <div class="card span-6"><h3>Retailer Performance</h3><canvas id="retailerChart"></canvas></div>
      <div class="card span-6"><h3>District-wise Scans</h3><canvas id="districtChart"></canvas></div>
      <div class="card span-12"><h3>Product Basket</h3><canvas id="productChart"></canvas></div>
    </section>
  </main>

  <div class="footer">© 2025 Coromandel CPC Dashboard</div>

  <!-- Login Overlay -->
  <div class="overlay" id="loginOverlay">
    <form class="login" id="loginForm">
      <h2>🔒 Secure Login</h2>
      <div class="field"><label>Username</label><input id="u" /></div>
      <div class="field"><label>Password</label><input id="p" type="password" /></div>
      <button class="btn" type="submit">Login</button>
      <div class="err" id="err"></div>
    </form>
  </div>

  <script src="app.js"></script>
</body>
</html>

